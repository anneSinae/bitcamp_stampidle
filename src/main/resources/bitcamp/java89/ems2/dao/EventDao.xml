<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="bitcamp.java89.ems2.dao.EventDao">

  <resultMap type="event" id="event-map">
    <id     column="eno"        property="eventNo"/>
    
    <result column="cfno"       property="cafeNo"/>
    <result column="cftel"       property="cafeTel"/>
    <result column="cname"       property="cafeName"/>
    <result column="intro"       property="intro"/>
    <result column="addr"       property="address"/>
    <result column="daddr"       property="detailAddress"/>
    <result column="chair"       property="chairNo"/>
    <result column="logo"       property="logPath"/>
    
    <result column="cmno"       property="cafeMemberNo"/>
    <result column="id"       property="id"/>
    <result column="ctel"       property="cellNo"/>
    <result column="crn"       property="companyNo"/>
    <result column="email"       property="Email"/>
    <result column="pwd"       property="password"/>
    
    <result column="titl"       property="eventTitle"/>
    <result column="econts"     property="eventContents"/>
    <result column="ebirth"     property="registDate"/>
    <result column="epath"      property="eventPhotoPath"/>
    <result column="eview"      property="eventView"/>
    <result column="sday"       property="startDate"/>
    <result column="eday"       property="endDate"/>
  </resultMap>
  
  
  <select id="getList" resultMap="event-map">
    select 
      e.eno,
      e.titl,
      e.econts,
      e.ebirth,
      e.epath,
      e.eview,
      e.sday,
      e.eday,
      c.cname
    from event e
      left outer join cafe c on e.cfno = c.cfno
  </select>
  
  
<<<<<<< HEAD
  <insert id="insert" parameterType="student">
    insert into stud(eno,titl,econts,schl_nm,path) 
    values(
      #{eventNo},
      #{eventTitle},
      #{eventContents}, 
      #{registDate}, 
      #{eventPhotoPath},
      #{eventView}, 
      #{startDate},
      #{endDate})
  </insert>
  
  <select id="getOne" resultMap="event-map">
    select 
      e.eno,
      e.titl,
      e.econts,
      e.ebirth,
      e.epath,
      e.eview,
      e.sday,
      e.eday,
      c.cname
    from event e
      left outer join cafe c on e.cfno = c.cfno
    where eno=#{value}
  </select>
  

</mapper>








