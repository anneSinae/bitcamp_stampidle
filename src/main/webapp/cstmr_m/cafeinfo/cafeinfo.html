<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>Stampidle</title>
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
<link rel="stylesheet" href="../../node_modules/bootstrap/dist/css/bootstrap.css">
<link rel="stylesheet" href="../css/pushy.css">
<link rel="stylesheet" href="../css/common.css">
<link rel="stylesheet" href="../css/tab_swipe.css">
<link rel="stylesheet" href="../css/cafeinfo.css">


</head>
<body class='cafeinfo'>
	<div class="side-left-pushy-button">menu btn</div>
	<div id='header'></div>
	<div id="sideLeftPushy" class="pushy pushy-left sidebar"></div>

	<div id="container">
	   <h2 id='pageTit'>카페 정보</h2>
	   
		<!-- con -->
		<div class='con'>

			<div class='swipe_nav'>
				<ul id="tab_swipe">
					<li class="tab1 on"><a href="#" onclick="areaSwipe.slide(0);return false;">카페소개</a></li>
					<li class='tab2'><a href="#" onclick="areaSwipe.slide(1);return false;">대표메뉴</a></li>
					<li class='tab3'><a href="#" onclick="areaSwipe.slide(2);return false;">리뷰</a></li>
				</ul>
			</div>

			<div id="swipe">
				<div class="swWrap">

                    <!-- section1 -->
	               <div class='section intro'>
	                  <div class='cafe-card'>
	                     <div class='stmp-circle'></div>
	                     <div class="intro-wrap">
	                     <div class='bgwrap'>
	                     <div style="display:block">
	                     <img class='stmpcard'>
	                     </div>
	                     <div style="display:none">
                       <img class='stmpcard2'>
                       </div>
	                     </div>
	                     </div>
	                  </div>
	                  <div class='cafe-text'>
	                     <div class='cafe-name'></div>
	                     <div class='like select'>259</div>
	                     <div class='cafe-tag'></div>
	                     <div class='cafe-addr'></div>
	                     <div class='cafe-tel'></div>
	                     <div class='cafe-info'></div>
	                  </div>
	                  <button class='btn-gift' type='button' onclick="location.href='gift.html'"></button>
	                  <button class='btn-message' type='button' onclick="location.href='../message/message.html'"></button>
	               </div>
	               <!-- //section1 -->
                    
                    
                    <!-- section2 -->
					<div class='section menuArea'>
					   <h3>제조음료</h3>
					   <div class="btn-group">
                            <button class="btn btn-default btn-sm dropdown-toggle"
                                type="button" data-toggle="dropdown" aria-haspopup="true"
                                aria-expanded="false">
                                정렬조건 <span class="caret"></span>
                            </button>
                            <ul class="dropdown-menu">
                                <li>제조음료</li>
                                <li>디저트</li>
                                <li>병음료</li>
                                <li>스무디</li>
                            </ul>
                        </div>
                        
					   <div class='menuList'>
					   </div>
	                       
	                    
                    </div>
                    <!-- //section2 -->
                    
                    
                    <!-- section3 -->
					<div class='section commentArea'>
	                    
	                    <!-- input -->
	                    <form class="formArea">
						<h3>내 의견쓰기</h3>
					        <fieldset>
					        <div class="comment_form">
				                <label>이름</label><input type="text" maxlength="20" readonly="readonly">
				                <p class="star_rating">
                          <a href="#" class="on">★</a>
											    <a href="#" class="on">★</a>
											    <a href="#" class="on">★</a>
											    <a href="#">★</a>
											    <a href="#">★</a>
                        </p>
				                <textarea class='commentText' maxlength="100" placeholder="내용"></textarea>
					        </div>
					        <button class="submit">글 올리기</button>
					        </fieldset>
				        </form>
				        <!-- //input -->
				        
				        <!-- list -->
	                    <div class='starScore'>
	                        <div class='star'>
	                            <span></span>
	                        </div>
	                        <div class='result'></div>
	                    </div>
	                    <div class="comment_list">
	                        <p class="total">
	                            댓글 <span></span>
	                        </p>
	                        <ul>
	                            
	                        </ul>
	                    </div>
	
	                    <button class="brn_more">더보기</button>
                        <!-- //list -->
                        
                    </div>
                    <!-- //section3 -->

				</div>
			</div>


		</div>
		<!-- //con -->
	</div>

  <script src="../js/context.js"></script>
  <script src="../../node_modules/handlebars/dist/handlebars.js"></script>
	<script src="../../node_modules/jquery/dist/jquery.js"></script>
	<script src="../../node_modules/bootstrap/dist/js/bootstrap.js"></script>
	<script src="../js/bit.js"></script>
	<script src="../js/common.js"></script>
	<script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
	<script src="../js/pushy.js"></script>
	<script src="../js/pushy_stampidle.js"></script>
	<script src="cafeinfo.js"></script>
	

<!--  Swipe -->
<script type="text/javascript" src="../js/jquery-latest.js"></script>

<script type="text/javascript" src="../js/tab_swipe.js"></script>
<script type="text/javascript">
$(window).load(function(){
    if (!document.getElementById('tab_swipe')) return false;
    var mnTab = document.getElementById('tab_swipe').getElementsByTagName('li');
    var elem = document.getElementById('swipe');
    
    
    window.areaSwipe = Swipe(elem, {
        startSlide: 0,
        continuous: true,
        callback: function(pos) {
            var currentSlide = areaSwipe.getPos() + 1;
            var n = mnTab.length;
            while (n--) {
                mnTab[n].className = ' ';
            }
            mnTab[pos].className = 'on';
            
            console.log(currentSlide);
                var secH = $(".section:nth-of-type(" + currentSlide + ")").outerHeight();
            console.log(secH);
            $("#swipe .swWrap").css('height', secH);
        }
    });
});
</script>
<!-- // Swipe -->
<script>
var $imgList = $('.bgwrap>div');      // bgwrap div 안에 있는 div 자식들을 가져옴
var nImgCount = $imgList.children().length; // 위에서 가져온 div 자식들의 개수
var nDuration = 1500;         // 이미지를 변경할 시간 (3000 = 3초)
var bAuto = true;           // 자동으로 변경할 지 여부
var nIndex = 0;           // 변경할 이미지의 Index

if(bAuto == true) {
  setInterval(autoSlide, nDuration);    // Javascript setInterval 함수 호출
}

function autoSlide() {
  /* 3초마다 이 함수에 들어오게 됨 */
  // % 연산은 나누기를 한 후 나머지 값을 가져오는 연산입니다.
  // nImgCount = 4
  /*
    nIndex = 0
    ++nIndex = 1
    (++nIndex % nImageCount) = (1 % 4 = 1)
    $($imgList.get(0)).fadeOut(1000); // 0 Index에 있는 이미지를 fadeOut
    $($imgList.get(1)).fadeIn(1000);  // 1 Index에 있는 이미지를 fadeIn
  */
  /*
    nIndex = 1
    ++nIndex = 2
    (++nIndex % nImageCount) = (2 % 4 = 2)
    $($imgList.get(1)).fadeOut(1000); // 1 Index에 있는 이미지를 fadeOut
    $($imgList.get(2)).fadeIn(1000);  // 2 Index에 있는 이미지를 fadeIn
  */
  var next = (++nIndex % nImgCount);
  $($imgList.get(next - 1)).fadeOut(1000);
  $($imgList.get(next)).fadeIn(1000);
}
</script>
<script id="menuTemplate" type="text/x-handlebars-template">
{{#each list}}
<div class='menu'>
  <p class='mnImg'><img src="../../upload/{{menuPath}}"></p>
  <p class='mnName'>{{menuName}}</p>
  <p class='mnPrice'>{{price}}</p>
 </div>
{{/each}}
</script>

<script id="commentTemplate" type="text/x-handlebars-template">
{{#each commentList}}
<li>
  <div class='profileImg'>
    <img src='../../upload/{{photoPath}}' alt='profile Img'>
  </div>
  <div class="comment_txt">
    <strong>{{nick}}</strong>
    <p>{{contents}}</p>
  </div>
  <div class='etcInfo'>
    <div class="date">{{uploadDate}}</div>
    <div class="star"><span class='star{{star}}'></span></div>
  </div>
</li>
{{/each}}
</script>
</body>
</html>








